webpackJsonp([8],{PAvT:function(e,t){},pMgH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("GZb1"),n=a("WOcw"),s={name:"admin",data:function(){return{list:[],image:{place:"",order:"",status:""},page:{limit:10,count:0,current:1}}},created:function(){this.getImageList()},methods:{currentPage:function(e){this.page.current=e,this.getImageList()},selectImage:function(){this.getImageList()},lookAll:function(){this.image.place="",this.image.order="",this.image.status="",this.getImageList()},tableRowClassName:function(e){e.row;return e.rowIndex%2==0?"success-row":""},gotoCreate:function(e){this.$router.push({path:"/admin/create",query:{imageId:e}})},deleteRow:function(e,t,a){var l=this,s={image_id:a};Object(n.E)(s).then(function(a){200===a.code?(t.splice(e,1),l.$message.success(a.message)):1e3===a.code&&l.$router.push({path:"/admin/login"})})},getImageList:function(){var e=this,t={image_place:e.image.place,order:e.image.order,status:e.image.status,page:e.page.current,limit:e.page.limit};Object(n.G)(t).then(function(t){200===t.code?(e.list=t.data.list,e.page.count=t.data.count):localStorage.removeItem("userToken")})}},components:{Pagination:l.a}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin"},[a("div",{staticClass:"list flex flex_column flex_center"},[a("div",{staticClass:"select flex flex_only_center"},[a("div",{staticClass:"flex flex_only_center"},[a("div",[e._v("图片位置：")]),e._v(" "),a("el-select",{on:{change:e.selectImage},model:{value:e.image.place,callback:function(t){e.$set(e.image,"place",t)},expression:"image.place"}},[a("el-option",{attrs:{label:"首页一号位",value:1}}),e._v(" "),a("el-option",{attrs:{label:"首页轮播图",value:2}}),e._v(" "),a("el-option",{attrs:{label:"首页三号位",value:3}})],1)],1),e._v(" "),a("div",{staticClass:"flex flex_only_center"},[a("div",[e._v("上架状态：")]),e._v(" "),a("el-select",{on:{change:e.selectImage},model:{value:e.image.status,callback:function(t){e.$set(e.image,"status",t)},expression:"image.status"}},[a("el-option",{attrs:{label:"上架",value:1}}),e._v(" "),a("el-option",{attrs:{label:"下架",value:2}})],1)],1),e._v(" "),a("div",{staticClass:"flex flex_only_center"},[a("div",[e._v("图片分类：")]),e._v(" "),a("el-select",{on:{change:e.selectImage},model:{value:e.image.order,callback:function(t){e.$set(e.image,"order",t)},expression:"image.order"}},[a("el-option",{attrs:{label:"cn",value:1}}),e._v(" "),a("el-option",{attrs:{label:"com",value:2}})],1)],1),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.lookAll()}}},[e._v("查看全部")]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.gotoCreate(0)}}},[e._v("创建")])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:e.list,height:"700","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"id",label:"图片ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"image_place",label:"图片位置"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order",label:"权重"}}),e._v(" "),a("el-table-column",{attrs:{prop:"web_order",label:"网站排序"}}),e._v(" "),a("el-table-column",{attrs:{prop:"web_address",label:"网站地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"image_name",label:"图片名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jump_url",label:"跳转地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_show",label:"是否显示"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.gotoCreate(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteRow(t.$index,e.list,t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),e.list.length>0?a("Pagination",{attrs:{countData:e.page.count,pageSize:e.page.limit},on:{currentPage:e.currentPage}}):e._e()],1)])},staticRenderFns:[]};var i=a("VU/8")(s,o,!1,function(e){a("uMkv"),a("PAvT")},"data-v-2deecffa",null);t.default=i.exports},uMkv:function(e,t){}});
//# sourceMappingURL=8.939485c3045dff399ef9.js.map